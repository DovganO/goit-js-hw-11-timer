{"version":3,"sources":["index.js"],"names":["CountdownTimer","selector","targetDate","intervalId","document","querySelector","init","time","getTimeComponents","updateClockFace","setInterval","currentTime","Date","now","deltaTime","days","hours","mins","secs","textContent","pad","Math","floor","value","String","padStart","timer","window","onload","start"],"mappings":";;;AA8DA,aAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EA9DA,QAAA,yBAGMA,IAAAA,EAAAA,WACkC,SAAA,EAAA,GAAtBC,IAAAA,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,WAAY,EAAA,KAAA,GAC3BC,KAAAA,WAAa,KACbF,KAAAA,SAAWG,SAASC,cAAiBJ,GAAAA,OAAAA,IACrCC,KAAAA,WAAaA,EAEbI,KAAAA,OAqDb,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,OAjDW,MAAA,WACGC,IAAAA,EAAO,KAAKC,kBAAkB,GAC/BC,KAAAA,gBAAgBF,KA+C7B,CAAA,IAAA,QA3CY,MAAA,WAAA,IAAA,EAAA,KACCJ,KAAAA,WAAaO,YAAY,WACpBC,IAAAA,EAAcC,KAAKC,MACnBC,EAAY,EAAKZ,WAAaS,EAE9BJ,EAAO,EAAKC,kBAAkBM,GACpC,EAAKL,gBAAgBF,IACtB,OAoCX,CAAA,IAAA,kBAhCiD,MAAA,SAAA,GAA3BQ,IAAAA,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,MAAOC,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,KAC5BjB,KAAAA,SAASI,cAAc,uBAAuBc,YAAcJ,EAC5Dd,KAAAA,SAASI,cAAc,wBAAwBc,YAAcH,EAC7Df,KAAAA,SAASI,cAAc,uBAAuBc,YAAcF,EAC5DhB,KAAAA,SAASI,cAAc,uBAAuBc,YAAcD,IA4BzE,CAAA,IAAA,oBAxBsBX,MAAAA,SAAAA,GAQP,MAAA,CAAEQ,KAPI,KAAKK,IAAIC,KAAKC,MAAMf,EAAQ,QAO1BS,MAND,KAAKI,IACnBC,KAAKC,MAAOf,EAAQ,MAAyB,OAKvBU,KAHT,KAAKG,IAAIC,KAAKC,MAAOf,EAAQ,KAAoB,MAGlCW,KAFf,KAAKE,IAAIC,KAAKC,MAAOf,EAAQ,IAAc,SAkBhE,CAAA,IAAA,MAZQgB,MAAAA,SAAAA,GACOC,OAAAA,OAAOD,GAAOE,SAAS,EAAG,SAWzC,EA3DMzB,GAqDA0B,EAAQ,IAAI1B,EAAe,CAC/BC,SAAU,WACVC,WAAY,IAAIU,KAAK,2BAIvBe,OAAOC,OAASF,EAAMG","file":"src.781e84d8.js","sourceRoot":"..\\src","sourcesContent":["import '../src/css/common.css';\r\n\r\n// создаём класс\r\nclass CountdownTimer{\r\n    constructor({ selector, targetDate}){\r\n        this.intervalId = null;\r\n        this.selector = document.querySelector(`${selector}`);\r\n        this.targetDate = targetDate;\r\n\r\n        this.init();\r\n    }\r\n\r\n// очищаем интерфейс до формата 00:00:00\r\n    init() {\r\n        const time = this.getTimeComponents(0);\r\n        this.updateClockFace(time);\r\n    }\r\n\r\n// таймер\r\n    start() {\r\n        this.intervalId = setInterval(() => {\r\n            const currentTime = Date.now();\r\n            const deltaTime = this.targetDate - currentTime;\r\n            \r\n            const time = this.getTimeComponents(deltaTime);\r\n            this.updateClockFace(time);\r\n        }, 1000);\r\n    }\r\n\r\n// обновляем интерфейс\r\n    updateClockFace({ days, hours, mins, secs }) {\r\n        this.selector.querySelector('[data-value=\"days\"]').textContent = days;\r\n        this.selector.querySelector('[data-value=\"hours\"]').textContent = hours;\r\n        this.selector.querySelector('[data-value=\"mins\"]').textContent = mins;\r\n        this.selector.querySelector('[data-value=\"secs\"]').textContent = secs;\r\n    }\r\n\r\n// принимает время в мс, вычисляет наеобходимые величины времени\r\n    getTimeComponents(time) {\r\n        const days = this.pad(Math.floor(time / (1000 * 60 * 60 * 24)));\r\n        const hours = this.pad(\r\n        Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\r\n        );\r\n        const mins = this.pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\r\n        const secs = this.pad(Math.floor((time % (1000 * 60)) / 1000));\r\n\r\n        return { days, hours, mins, secs };\r\n    }\r\n    \r\n// принимает число, приводит к строке и добавляет в начало 0 если число меньше 2-х знаков\r\n    pad(value) {\r\n        return String(value).padStart(2, '0');\r\n    }\r\n}\r\n\r\n// создаём экземпляр\r\nconst timer = new CountdownTimer({\r\n  selector: '#timer-1',\r\n  targetDate: new Date('Dec 31, 2020 23:59:59'),\r\n});\r\n\r\n// запускаем при загрузке страницы\r\nwindow.onload = timer.start();"]}